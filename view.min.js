/*!
 * view.js
 * Swap visible elements in a single call.
 * 
 * Copyright (c) 2013 Tony Ross
 * Released under the MIT license
 * http://github.com/antross/view
 */
!function(a,b){"use strict";function c(a){function b(b,c){f(b,i,a,c)}return b.hide=function(b,c){f(b,e,a,c)},b.show=function(b,c){f(b,h,a,c)},b.scope=function(a){if(!a||!a.querySelectorAll)throw new Error("[view.js] The `root` passed to `view.scope` must support `querySelectorAll`.");return c(a)},b}function d(a,b){var c=[].slice.call(b.querySelectorAll(a));if(!c.length)throw new Error('[view.js] No targets found for "'+a+'".');return c}function e(a){a.hasAttribute(j)||(a.setAttribute(j,""),g(a,"view:hide"),[].forEach.call(a.querySelectorAll("[hidden] ~ :not([hidden])"),function(a){g(a,"view:hide")}))}function f(a,b,c,e){e||(e={});var f=e.data;"string"==typeof a?a=d(a,c):a.length||(a=[a]),a.forEach(function(c){b(c,a,f,e)})}function g(a,c,d){var e=b.createEvent("CustomEvent");e.initCustomEvent(c,!1,!1,d||{}),k(function(){a.dispatchEvent(e)})}function h(a,b,c){a.hasAttribute(j)&&(a.removeAttribute(j),g(a,"view:show",{data:c}),[].forEach.call(a.querySelectorAll("[hidden] ~ :not([hidden])"),function(a){g(a,"view:show")}))}function i(a,b,c,d){h(a,b,c);for(var f=a.parentNode,g=f&&f.firstElementChild;g;)-1==b.indexOf(g)&&e(g),g=g.nextElementSibling;d.deep&&f&&f.hasAttribute&&i(f,b,null,d)}var j="hidden",k=a.setImmediate||function(a){setTimeout(a,0)},l=a.view=c(b);a.define&&a.define(function(){return l})}(this,this.document);